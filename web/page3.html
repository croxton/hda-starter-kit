<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
    <title>Page 3</title>
    <meta name="description" content="This is page 3!" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="/dist/main.css">
    <script defer src="https://cdn.jsdelivr.net/gh/bigskysoftware/htmx@508490/src/htmx.min.js"></script>
    <script defer src="/dist/manifest.js"></script>
    <script defer src="/dist/vendor.js"></script>
    <script defer src="/dist/main.js"></script>
</head>
<body class="ltr" data-icons="/dist/sprite.svg" hx-ext="history-preserve">

<header id="header">
    <h1 class="text-2xl bg-gray-900 text-white antialiased p-6 mb-4">Laravel Mix, Tailwind CSS, Alpine.js + htmx starter</h1>

    <nav hx-boost="true" hx-target="#main" hx-select="#main" hx-swap="outerHTML show:#header:top" hx-indicator="body">
        <ul class="c-menu flex p-12">
            <li class="mr-6">
                <a class="text-blue-500 hover:text-blue-800" href="/index.html">Page 1</a>
            </li>
            <li class="mr-6">
                <a class="text-blue-500 hover:text-blue-800" href="/page2.html">Page 2</a>
            </li>
            <li class="mr-6">
                <a class="text-blue-500 hover:text-blue-800" href="/page3.html">Page 3</a>
            </li>
        </ul>
    </nav>
</header>

<main id="main" hx-history-elt>

    <div id="box" class="o-viewport o-viewport-1/1 md:o-viewport-4/1 text-white bg-yellow-500 flex justify-center items-center transition-colors duration-1000">
        <h2 class="text-2xl text-white">Page 3</h2>
    </div>

    <section class="p-12 space-y-12">

        <header>
            <h3 class="text-xl">Example Alpine.js component: search</h3>
            <p class="mt-2">Always opt to use inline directives over runtime declarations, for example use <code>xâ€‘data</code> over <code>Alpine.data</code>.</p>
        </header>

        <div hx-history-preserve x-data='{
            isOpen: false,
            search: "",

            get getItems() {
                const filterItems = this.sourceData.filter((item) => {
                    return item.employee_name.toLowerCase().startsWith(this.search.toLowerCase())
                })

                if (filterItems.length < this.sourceData.length && filterItems.length > 0) {
                    this.isOpen = true
                    return filterItems
                } else {
                    this.isOpen = false
                }
            },

            cleanSearch(e) {
                alert(e.target.innerText)
                this.search = ""
            },

            closeSearch() {
                this.search = ""
                this.isOpen = false
            },

            sourceData: [
            {
                id: "1",
                employee_name: "Tiger Nixon",
                profile_image: "https://randomuser.me/api/portraits/men/1.jpg",
            },
            {
                id: "2",
                employee_name: "Garrett Winters",
                profile_image: "https://randomuser.me/api/portraits/men/2.jpg",
            },
            {
                id: "3",
                employee_name: "Ashton Cox",
                profile_image: "https://randomuser.me/api/portraits/men/3.jpg",
            },
            {
                id: "4",
                employee_name: "Cedric Kelly",
                profile_image: "https://randomuser.me/api/portraits/men/4.jpg",
            },
            {
                id: "5",
                employee_name: "Airi Satou",
                profile_image: "https://randomuser.me/api/portraits/women/5.jpg",
            },
            {
                id: "6",
                employee_name: "Brielle Williamson",
                profile_image: "https://randomuser.me/api/portraits/women/6.jpg",
            },
            {
                id: "7",
                employee_name: "Herrod Chandler",
                profile_image: "https://randomuser.me/api/portraits/men/7.jpg",
            },
            {
                id: "8",
                employee_name: "Rhona Davidson",
                profile_image: "https://randomuser.me/api/portraits/women/8.jpg",
            },
            {
                id: "9",
                employee_name: "Colleen Hurst",
                profile_image: "https://randomuser.me/api/portraits/women/9.jpg",
            },
            {
                id: "10",
                employee_name: "Sonya Frost",
                profile_image: "https://randomuser.me/api/portraits/women/10.jpg",
            },
            {
                id: "11",
                employee_name: "Jena Gaines",
                profile_image: "https://randomuser.me/api/portraits/women/11.jpg",
            },
            {
                id: "12",
                employee_name: "Quinn Flynn",
                profile_image: "https://randomuser.me/api/portraits/men/12.jpg",
            },
            {
                id: "13",
                employee_name: "Charde Marshall",
                profile_image: "https://randomuser.me/api/portraits/women/12.jpg",
            },
            {
                id: "14",
                employee_name: "Haley Kennedy",
                profile_image: "https://randomuser.me/api/portraits/women/14.jpg",
            },
            {
                id: "15",
                employee_name: "Tatyana Fitzpatrick",
                profile_image: "https://randomuser.me/api/portraits/women/15.jpg",
            },
            {
                id: "16",
                employee_name: "Michael Silva",
                profile_image: "https://randomuser.me/api/portraits/men/16.jpg",
            },
            {
                id: "17",
                employee_name: "Paul Byrd",
                profile_image: "https://randomuser.me/api/portraits/men/17.jpg",
            },
            {
                id: "18",
                employee_name: "Gloria Little",
                profile_image: "https://randomuser.me/api/portraits/women/18.jpg",
            },
            {
                id: "19",
                employee_name: "Bradley Greer",
                profile_image: "https://randomuser.me/api/portraits/men/19.jpg",
            },
            {
                id: "20",
                employee_name: "Dai Rios",
                profile_image: "https://randomuser.me/api/portraits/men/20.jpg",
            },
            {
                id: "21",
                employee_name: "Jenette Caldwell",
                profile_image: "https://randomuser.me/api/portraits/women/21.jpg",
            },
            {
                id: "22",
                employee_name: "Yuri Berry",
                profile_image: "https://randomuser.me/api/portraits/men/22.jpg",
            },
            {
                id: "23",
                employee_name: "Caesar Vance",
                profile_image: "https://randomuser.me/api/portraits/men/23.jpg",
            },
            {
                id: "24",
                employee_name: "Doris Wilder",
                profile_image: "https://randomuser.me/api/portraits/women/24.jpg",
                },
            ]
            }'>
            <details class="c-search__item" role="list" :open="isOpen">
                <summary aria-haspopup="listbox" class="appearance-none list-none">
                    <input class="p-2 border border-gray-400 rounded w-full text-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 focus:outline-none" type="text" @input="getItems" placeholder="search ..." x-model="search">
                </summary>
                <ul class="border border-200 rounded p-2 shadow-xl max-h-64 overflow-y-scroll" role="listbox" x-on:click.outside="closeSearch">
                    <template x-for="item in getItems" :key="item.id">
                        <li class="p-2 flex flow-row justify-center items-center">
                            <img class="w-16 h-16 rounded shadow-lg mr-2" :src="item.profile_image" alt="">
                            <a class="text-lg text-gray-700 w-full flex flex-row items-center cursor-pointer" x-text="item.employee_name" x-on:click="cleanSearch"></a>
                        </li>
                    </template>
                </ul>
            </details>
        </div>

    </section>

</main>

<!-- page transition loading bar -->
<div id="transition" class="c-transition"></div>
</body>
</html>
